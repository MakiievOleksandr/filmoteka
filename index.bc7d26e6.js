var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in t){var r=t[e];delete t[e];var i={id:e,exports:{}};return n[e]=i,r.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){t[e]=n},e.parcelRequired7c6=r),r("7bYU0"),r("aWfZo"),r("03EOq"),r("bWo2c"),r("la0xx"),r("fzYh0"),r("03v4M");var i=r("lpPzL"),a=r("cQLOM"),o=r("kcNsB"),l=r("03v4M"),s=r("2nhTy");const u=(0,i.getRefs)(),c=new(0,a.FilmsApiService);var d={};function f(e,n,t){var r,i,a,o,l;function s(){var u=Date.now()-o;u<n&&u>=0?r=setTimeout(s,n-u):(r=null,t||(l=e.apply(a,i),a=i=null))}null==n&&(n=100);var u=function(){a=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(s,n)),u&&(l=e.apply(a,i),a=i=null),l};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(l=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},u}f.debounce=f,d=f;function h(){u.searchQueryList.innerHTML=""}u.searchForm.addEventListener("submit",(async function(e){e.preventDefault();const n=e.target;if(c.query=e.target.search.value.trim(),""===c.query)return void u.spanNotification.classList.remove("hidden");if(!(await c.fetchFilmsOnSearch(c.query))?.results?.length)return void u.spanNotification.classList.remove("hidden");u.filmGallery.innerHTML="",(0,s.getPaginationFromSerchRequest)(c.query),document.querySelector(".spinner").classList.add("hidden"),n.reset()})),u.body.addEventListener("click",(function(e){"header__form-input"!==e.target.className&&(u.searchQueryList.innerHTML="")})),u.searchForm.addEventListener("input",d((async function(e){u.spanNotification.classList.add("hidden"),c.query=e.target.value.trim(),h();const n=await c.fetchFilmsOnSearch(c.query);if(!n?.results?.length)return void h();t=n,u.searchQueryList.insertAdjacentHTML("beforeend",(0,o.filmShortTpl)(t)),document.querySelectorAll(".header__form-list-item").forEach((e=>e.addEventListener("click",l.onMovieCardClick)));var t}),300)),r("97fqm"),r("dcA59"),r("au048");s=r("2nhTy");r("3AN3U"),r("84Scz"),(0,(s=r("2nhTy")).getPaginationFromMainRequest)();
//# sourceMappingURL=index.bc7d26e6.js.map
