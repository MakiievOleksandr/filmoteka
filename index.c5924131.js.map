{"mappings":"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","sources":["src/index.js","src/js/search-movie.js","node_modules/debounce/index.js","src/js/header-for-tab&mob.js"],"sourcesContent":["import './js/modal-team';\nimport './js/glide';\nimport './js/addvideo';\nimport './js/firebase-auth';\nimport './js/firebase-db-index';\nimport './js/firebase-class';\nimport './js/movie-card';\nimport './js/search-movie';\n// import './js/change-color-scheme';\nimport './js/library-auth';\nimport './js/backToTop';\nimport './js/pagination';\n// import './js/sticky-header';\nimport './js/header-for-tab&mob';\n\nimport { getPaginationFromMainRequest } from './js/pagination';\n//запуск пагінації головної сторінки\ngetPaginationFromMainRequest();\n","import { getRefs } from './get-refs';\nimport { FilmsApiService } from './films-service';\n\nimport { filmShortTpl } from './films-gallery';\n\nimport { onMovieCardClick } from './movie-card';\nimport { getPaginationFromSerchRequest } from './pagination';\n\nconst refs = getRefs();\nconst filmsApiService = new FilmsApiService();\n\nconst debounce = require('debounce');\n\nconst DEBOUNCE_DELAY = 300;\n\nrefs.searchForm.addEventListener('submit', onSearchSubmit);\n\nrefs.body.addEventListener('click', inputClose);\n\n//Input Search\nrefs.searchForm.addEventListener(\n  'input',\n  debounce(onSearchInput, DEBOUNCE_DELAY)\n);\n\nasync function onSearchInput(e) {\n  refs.spanNotification.classList.add('hidden');\n  filmsApiService.query = e.target.value.trim();\n  clearSearchList();\n  const filmOnSearch = await filmsApiService.fetchFilmsOnSearch(\n    filmsApiService.query\n  );\n  if (!filmOnSearch?.results?.length) {\n    clearSearchList();\n    // Notiflix.Notify.failure('Sorry, film is not found');\n    return;\n  }\n\n  renderFilmSearchList(filmOnSearch);\n}\n\n//Submit search\nasync function onSearchSubmit(e) {\n  e.preventDefault();\n  const form = e.target;\n\n  filmsApiService.query = e.target.search.value.trim();\n\n  if (filmsApiService.query === '') {\n    // Notiflix.Notify.failure('Please type something');\n    refs.spanNotification.classList.remove('hidden');\n    return;\n  }\n\n  const filmOnSearch = await filmsApiService.fetchFilmsOnSearch(\n    filmsApiService.query\n  );\n\n  if (!filmOnSearch?.results?.length) {\n    // Notiflix.Notify.failure('Sorry, film is not found');\n    refs.spanNotification.classList.remove('hidden');\n\n    return;\n  }\n\n  clearGalleryContainer();\n\n  getPaginationFromSerchRequest(filmsApiService.query);\n  document.querySelector('.spinner').classList.add('hidden');\n  form.reset();\n}\n\n//render markup\nfunction renderFilmSearchList(films) {\n  refs.searchQueryList.insertAdjacentHTML('beforeend', filmShortTpl(films));\n  document\n    .querySelectorAll('.header__form-list-item')\n    .forEach(node => node.addEventListener('click', onMovieCardClick));\n}\n\n//clear markup\nfunction clearGalleryContainer() {\n  refs.filmGallery.innerHTML = '';\n}\n\nfunction clearSearchList() {\n  refs.searchQueryList.innerHTML = '';\n}\n\nfunction inputClose(e) {\n  if (e.target.className !== 'header__form-input')\n    refs.searchQueryList.innerHTML = '';\n}\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","import throttle from 'lodash.throttle';\nconst headerEl = document.querySelector('.less__header');\nconst filmSectionEl = document.querySelector('.less__header__container');\n\nlet lastScrollTop = 0;\n\nwindow.addEventListener('scroll', throttle(stickyHeaderOnScroll, 250), false);\n\nfunction stickyHeaderOnScroll() {\n  let scrollPos = window.scrollY || document.documentElement.scrollTop;\n\n  if (scrollPos <= 50) {\n    headerEl.classList.remove('sticky__header');\n    filmSectionEl.classList.remove('container__slider-js');\n  }\n  if (scrollPos < 400) {\n    headerEl.classList.remove('appearing__header-js');\n    headerEl.classList.remove('disappearing__header-js');\n  } else {\n  }\n  if (scrollPos > lastScrollTop && scrollPos > 400) {\n    // downscroll code\n    //headerEl.classList.remove('header__index');\n    headerEl.classList.remove('appearing__header-js');\n    headerEl.classList.add('disappearing__header-js');\n  } else if (scrollPos < lastScrollTop && scrollPos > 400) {\n    // upscroll code\n    headerEl.classList.remove('disappearing__header-js');\n    headerEl.classList.add('sticky__header');\n    headerEl.classList.add('appearing__header-js');\n    filmSectionEl.classList.add('container__slider-js');\n  }\n\n  lastScrollTop = scrollPos <= 0 ? 0 : scrollPos; // For Mobile or negative scrolling\n}\n"],"names":["parcelRequire","$lpPzL","$71009b01fa8718e8$var$refs","getRefs","$71009b01fa8718e8$var$filmsApiService","$cQLOM","FilmsApiService","$815ad92c071f8c63$var$debounce","func","wait","immediate","timeout","args","context","timestamp","result","later","last","Date","now","setTimeout","apply","debounced","this","arguments","callNow","clear","clearTimeout","flush","debounce","$815ad92c071f8c63$exports","$71009b01fa8718e8$var$clearSearchList","searchQueryList","innerHTML","searchForm","addEventListener","async","e","preventDefault","form","target","query","search","value","trim","spanNotification","classList","remove","fetchFilmsOnSearch","results","length","filmGallery","$2nhTy","getPaginationFromSerchRequest","document","querySelector","add","reset","body","className","filmOnSearch","films","insertAdjacentHTML","$kcNsB","filmShortTpl","querySelectorAll","forEach","node","$03v4M","onMovieCardClick","$9OeKo","$e75fb75c523002b0$var$headerEl","$e75fb75c523002b0$var$filmSectionEl","$e75fb75c523002b0$var$lastScrollTop","window","$parcel$interopDefault","scrollPos","scrollY","documentElement","scrollTop","getPaginationFromMainRequest"],"version":3,"file":"index.c5924131.js.map"}