{"mappings":"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","sources":["src/my-library.js","src/js/firebase-db-library.js","src/js/change-color-scheme.js","src/js/sticky-header.js"],"sourcesContent":["import './js/firebase-auth';\nimport './js/firebase-class';\nimport './js/firebase-db-index';\nimport './js/firebase-db-library';\nimport './js/pagination';\n// import './js/firebase-movie-status-library';\nimport './js/change-color-scheme.js';\nimport './js/modal-team';\nimport './js/backToTop';\nimport './js/sticky-header';\n","import { Firebase } from './firebase-class';\nimport { getRefs } from './get-refs';\nimport { getPaginationFromLibrary } from './pagination';\nconst refs = getRefs();\n\nconst firebase = new Firebase();\n\nrefs.watched.addEventListener('click', showWatched);\nrefs.queue.addEventListener('click', showQueue);\n\nasync function showWatched() {\n  refs.queue.classList.remove('film-btn--active');\n  refs.watched.classList.add('film-btn--active');\n  refs.paginationContainer.innerHTML = '';\n\n  let watched = await firebase.getDoc('watched');\n\n  if (watched.length === 0) {\n    if (\n      watched.length === 0 &&\n      !refs.footer.classList.contains('footer--empty-library')\n    ) {\n      refs.footer.classList.toggle('footer--empty-library');\n    }\n    //SPINNER\n    document.querySelector('.spinner').classList.add('hidden');\n\n    refs.filmGallery.innerHTML = '';\n    refs.filmGallery.insertAdjacentHTML(\n      'beforeend',\n      `<li class=\"film-list-error\">\n      <p class=\"library__text\">No watched movies found in the library</p>\n      <img src=\"https://nejdancs.github.io/filmoteka/cat__1.21cb105d.png\" alt=\"No watched movies found in the library\"/>\n    </li>`\n    );\n  } else {\n    refs.filmGallery.innerHTML = '';\n    getPaginationFromLibrary(watched);\n    document.querySelector('.spinner').classList.add('hidden');\n  }\n}\n\nasync function showQueue() {\n  refs.watched.classList.remove('film-btn--active');\n  refs.queue.classList.add('film-btn--active');\n  refs.paginationContainer.innerHTML = '';\n\n  let queue = await firebase.getDoc('queue');\n\n  if (queue.length === 0) {\n    if (\n      watched.length === 0 &&\n      !refs.footer.classList.contains('footer--empty-library')\n    ) {\n    } else refs.footer.classList.toggle('footer--empty-library');\n\n    //SPINNER\n    document.querySelector('.spinner').classList.add('hidden');\n\n    refs.filmGallery.innerHTML = '';\n    refs.filmGallery.insertAdjacentHTML(\n      'beforeend',\n      `<li class=\"film-list-error\">\n        <p class=\"library__text\">No movies saved for viewing were found in the library</p>\n        <img src=\"https://nejdancs.github.io/filmoteka/cat__1.21cb105d.png\" alt=\"No movies saved for viewing were found in the library\"/>\n      </li>`\n    );\n  } else {\n    refs.filmGallery.innerHTML = '';\n    getPaginationFromLibrary(queue);\n    document.querySelector('.spinner').classList.add('hidden');\n  }\n}\n\nconst loadLibraryWatched = setInterval(getUserStatus, 250);\n\nfunction getUserStatus(params) {\n  try {\n    refs.watched.classList.add('film-btn--active');\n    firebase.userStatus();\n    showWatched();\n    clearInterval(loadLibraryWatched);\n  } catch (error) {\n    // console.log(error);\n  }\n}\n","const checkbox = document.getElementById('checkbox');\n\ncheckbox.addEventListener('change', () => {\n  document.body.classList.toggle('dark');\n});\n\nconst btnThemeHeader = document.querySelector('#checkbox'); // theme-check\nconst bodyTheme = document.querySelector('body');\nconst checked = document.querySelector('.checkbox'); //\nlet theme = localStorage.getItem('ui-theme');\n\nwindow.addEventListener('load', saveTheme);\nbtnThemeHeader.addEventListener('click', onTheme);\n\nfunction saveTheme() {\n  if (theme === 'dark') {\n    bodyTheme.classList.add('body-theme');\n    checked.setAttribute('checked', true);\n  }\n}\n\nfunction onTheme() {\n  theme = localStorage.getItem('ui-theme');\n\n  if (theme === 'dark') {\n    bodyTheme.classList.remove('body-theme');\n    localStorage.setItem('ui-theme', 'light');\n\n    return;\n  }\n\n  bodyTheme.classList.add('body-theme');\n  localStorage.setItem('ui-theme', 'dark');\n}\n","import throttle from 'lodash.throttle';\nconst headerEl = document.querySelector('.header');\nconst filmSectionEl = document.querySelector('.container__slider');\n\nlet lastScrollTop = 0;\n\nwindow.addEventListener('scroll', throttle(stickyHeaderOnScroll, 250), false);\n\nfunction stickyHeaderOnScroll() {\n  let scrollPos = window.scrollY || document.documentElement.scrollTop;\n\n  if (scrollPos <= 50) {\n    headerEl.classList.remove('sticky__header');\n    filmSectionEl.classList.remove('container__slider-js');\n  }\n  if (scrollPos < 400) {\n    headerEl.classList.remove('appearing__header-js');\n    headerEl.classList.remove('disappearing__header-js');\n  } else {\n  }\n  if (scrollPos > lastScrollTop && scrollPos > 400) {\n    // downscroll code\n    //headerEl.classList.remove('header__index');\n    headerEl.classList.remove('appearing__header-js');\n    headerEl.classList.add('disappearing__header-js');\n  } else if (scrollPos < lastScrollTop && scrollPos > 400) {\n    // upscroll code\n    headerEl.classList.remove('disappearing__header-js');\n    headerEl.classList.add('sticky__header');\n    headerEl.classList.add('appearing__header-js');\n    filmSectionEl.classList.add('container__slider-js');\n  }\n\n  lastScrollTop = scrollPos <= 0 ? 0 : scrollPos; // For Mobile or negative scrolling\n}\n"],"names":["parcelRequire","$bpxeT","$b7e35614679cd5d5$var$refs","$3vKGz","getRefs","$b7e35614679cd5d5$var$firebase","$iGaYn","Firebase","$b7e35614679cd5d5$var$showWatched","$b7e35614679cd5d5$var$_showWatched","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","watched","queue","classList","remove","add","paginationContainer","innerHTML","getDoc","_ctx","sent","length","footer","contains","toggle","document","querySelector","filmGallery","insertAdjacentHTML","$jcFG7","getPaginationFromLibrary","$b7e35614679cd5d5$var$_showQueue","addEventListener","$b7e35614679cd5d5$var$loadLibraryWatched","setInterval","params","userStatus","clearInterval","error","getElementById","body","$25714f9c7c279baf$var$btnThemeHeader","$25714f9c7c279baf$var$bodyTheme","$25714f9c7c279baf$var$checked","$25714f9c7c279baf$var$theme","localStorage","getItem","window","setAttribute","setItem","$dCfNN","$a434c35e75c001a1$var$headerEl","$a434c35e75c001a1$var$filmSectionEl","$a434c35e75c001a1$var$lastScrollTop","scrollPos","scrollY","documentElement","scrollTop"],"version":3,"file":"my-library.7fe747af.js.map"}